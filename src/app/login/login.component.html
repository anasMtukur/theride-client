<div class="container">
	<div class="row">
		<div class="col-lg-10 col-xl-9 mx-auto">
			<div class="card flex-row my-5 border-0 shadow rounded-3 overflow-hidden">
				<div class="card-img-left d-none d-md-flex">
					<!-- Background image for card set in CSS! -->
				</div>
				<div class="card-body p-4 p-sm-5">
					<h5 class="card-title text-center mb-5 fw-light fs-5">Login</h5>
					
					<form
						*ngIf="!isLoggedIn"
						name="form"
						(ngSubmit)="f.form.valid && onSubmit()"
						#f="ngForm"
						novalidate>

						<div *ngIf="f.submitted && isLoginFailed" class="alert alert-danger" role="alert">
							Login failed: {{ errorMessage }}
						</div>

						<div class="form-floating mb-3">
							<input
								id="floatingInputUsername"
								type="text"
								class="form-control"
								name="username"
								[(ngModel)]="form.username"
								required autofocus
								#username="ngModel"
								[ngClass]="{ 'is-invalid': f.submitted && username.errors }"
							/>
							<div *ngIf="username.errors && f.submitted" class="invalid-feedback">
								Username is required!
							</div>
							<label for="floatingInputUsername">Username</label>
						</div>

						<div class="form-floating mb-3">
							<input
								id="floatingPassword"
								type="password"
								class="form-control"
								name="password"
								[(ngModel)]="form.password"
								required
								minlength="6"
								#password="ngModel"
								[ngClass]="{ 'is-invalid': f.submitted && password.errors }"
							/>
							<div *ngIf="password.errors && f.submitted" class="invalid-feedback">
								<div *ngIf="password.errors['required']">Password is required</div>
								<div *ngIf="password.errors['minlength']">
								Password must be at least 6 characters
								</div>
							</div>
							<label for="floatingPassword">Password</label>
						</div>

						<div class="d-grid mb-2">
							<button class="btn btn-lg btn-block btn-primary btn-login fw-bold text-uppercase" type="submit">Login</button>
						</div>

						<a class="d-block text-center mt-2 small" href="/register">Don't have an account? Sign Up</a>

					</form>
				</div>
			</div>
		</div>
	</div>
</div>